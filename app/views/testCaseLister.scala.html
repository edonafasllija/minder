@(assertion: models.TestAssertion, localUser: models.User = null)


<script>
  $(function(){
    $(".differ").each(function(index){
       $(this).addClass('vary' + (index % 2));
    });

    minderAccordion("#testCaseAccordion@assertion.id");
  });

</script>

<div id="testCaseListerDiv@assertion.id">
  <table style="width: 100%;">
    <tr>
      <td>&nbsp;</td>
      <td style="text-align:center;width:90%;">
        <table class="fullw" cellpadding="5">
          <tr style="border-bottom: 1px solid gray;height:1px;">
            <td>&nbsp;</td>
            <td style="width:80%;"><h4 class="ui-accordion-header">TestCases</h4></td>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>&nbsp;</td>
            <td style="text-align:center;" id="testCaseAccordion@assertion.id">
              @for(testCase <- assertion.testCases){
              <div class="title hand differ" style="width:100%; border-bottom: 1px solid black; height: 30px;">
                <table class="fullw">
                  <tr>
                    <td style="width:3%;" valign="middle">
                      <div class="LabCase">
                        <img src="@routes.Assets.at("/images/test_tube-64.png")" height="16px"/>
                      </div>
                    </td>
                    <td style="text-align:left;" class="trigger">@testCase.name</td>
                    <td class="trigger" style="text-align:left;">@testCase.shortDescription</td>
                    <td class="trigger">&nbsp;</td>
                    <td style="width:3%;" align="center" valign="middle">
			          <div id="editTestCase@testCase.id" class="celldiv bevel2" style="height:26px;width:26px;">
			              <img src="@routes.Assets.at("/images/edit_property-64.png")" height="16px" alt='@assertion.id'/>
			          </div>
			          <script>
			              createFormDialog($("#editTestCase@testCase.id"),
			              "/editCaseForm?id=@testCase.id" ,
			              "/doEditCase", "mainDialog", "Edit Test Case", $("#testCaseListerDiv@assertion.id").parent(),'1200', '720')
			          </script> 
                    </td>
                    <td style="width:5px;" class="trigger">&nbsp;</td>
                    <td style="width:3%;" align="center" valign="middle">
   			          <div id="deleteTestCase@testCase.id" class="celldiv bevel2" style="height:26px;width:26px;">
			              <img src="@routes.Assets.at("/images/trash2-64.png")" height="16px" alt='@assertion.id'/>
			          </div>
			          <script>
			            var elm = $("#deleteTestCase@testCase.id");
			            deleteWithDialog(elm, "/doDeleteCase?id=@testCase.id", $("#dialog-confirm"),
			            "Delete Test Case", "test case", "@testCase.name", $("#testCaseListerDiv@assertion.id").parent())
			          </script>
                    </td>
                    <td style="width:25px;" class="trigger">&nbsp;</td>
                  </tr>
                </table>
              </div>
              <div class="content bevel">
                 @runConfigurationLister(testCase)
              </div>
              }
              <div class="title styledtitleinverse fullw hand create bevel2" style="margin:0;" align="center">
                <table><tr><td>
                <table width="100%">
                  <tr>
                    <td id="createTestCase1@assertion.id"
                        style="height:23px;vertical-align:top; text-align:right;">
                      <img src="@routes.Assets.at("/images/plus-64.png")" height="16px" />
                    </td>
                    <td id="createTestCase2@assertion.id" style="height:23px;">
                      @Messages("restrictedTestPage.createTestCase")
                    </td>
                  </tr>
                </table></td></tr></table>
              </div>

              <script>
                  createFormDialog($("#createTestCase1@assertion.id, #createTestCase2@assertion.id"),
                 "/createCaseForm?assertionId=@assertion.id",
                 "/doCreateCase",
                 "mainDialog",
                 "Create Test Case",
                 $("#testCaseListerDiv@assertion.id").parent(),
                 '1200', '720');
              </script>

            </td>
            <td>&nbsp;</td>
          </tr>
        </table>
      </td>
      <td>&nbsp;</td>
    </tr>
  </table>
</div>