@(testRun: TestRun)
@import java.util.concurrent.atomic.AtomicInteger
@import controllers.common.enumeration.TestStatus

<script>
    $( document ).tooltip();
</script>

@reportTypeDialog()

@if(testRun != null){
  @{/*
    @for(rivet <- TestEngineController.getRivetsFor(testRun)){
      <div class="statusAll parent @TestStatusDecorator.cssClassForRivet(rivet)"><label>Rivet #@rivet.index</label></div>
      <div class="blank">&nbsp;</div>
      <div class="blank">&nbsp;</div>
      <div class="statusAll parent @TestStatusDecorator.cssClassForSlot(rivet.slot)">
        <!-- Decorate the parameters of the slot -->
        @rivet.slot <br/>
        @for(param <- rivet.slot.params){
        <div class="statusAll child @TestStatusDecorator.cssClassForParam(param)">@param.parm</div>
        }
      </div>
      <div class="blank">&nbsp;</div>
      @for(signal <- rivet.signals){
      <div class="statusAll parent @TestStatusDecorator.cssClassForSignal(signal)">
        @signal <br/>
        @for(param <- signal.params){
        <div class="statusAll child @TestStatusDecorator.cssClassForParam(param)">@param.parm</div>
        }
      </div>
      }
      <hr style="margin:1px; padding: 0px;"/>
      */
  }
  <br/>


  <label>Status</label>
  <div class="statusAll child @TestStatusDecorator.cssClassForTest(testRun)">@testRun.status</div>
  <div>
    <xmp class="code">@testRun.errorMessage</xmp>
  </div>

  <div id="testCatcher" style="display:none">TEST_STATUS:@testRun.status</div>
      @if(testRun.status==TestStatus.GOOD||testRun.status==TestStatus.BAD){
          <table class="fullw">
            <tr>
              <td style="text-align:left;width:auto;">&nbsp;</td>
              <td style="width:3%;" align="center" title="View Log" valign="middle">
                <div id="viewUserHistory@testRun.id" class="celldiv bevel2" style="height:26px;width:26px;">
                  <img src="@routes.Assets.at("/images/console-64.png")" height="16px"/>
                </div>
                <script>
                                    createFormDialog($("#viewUserHistory@{testRun.id}"),
                                    "/viewUserHistory?testRunId=@testRun.id" ,
                                    "/doViewUserHistory", "mainDialog3", "View User History", null,'1200', '720')

                </script>
              </td>
              <td style="width:10px;" class="trigger">&nbsp;</td>
              <td style="width:3%;" align="center" valign="middle">
                <div id="viewReport@testRun.id" title="View Report" class="celldiv bevel2" style="height:26px;width:26px;"
                     onclick='showReportDialog("selectReportType", @testRun.id)'>
                  <img src="@routes.Assets.at("/images/print-64.png")" height="16px" alt='@testRun.id'/>
                </div>
              </td>
            </tr>
          </table>
      }
} else {
  No test run supplied!
}